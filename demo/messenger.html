<!DOCTYPE html>
<html ng-app>
<head>
    <title></title>
    <!-- seajs文件 -->
    <script type="text/javascript" src="/js/luffy/seajs/2.1.1/sea.js" id="seajsnode"></script>
    <!-- seajs配置文件 -->
    <script type="text/javascript" src="/js/luffy/luffyconf.js"></script>
    <!-- 当前页面模块的健康情况 -->
    <script type="text/javascript" src="/js/luffy/seajs-health/0.1.0/seajs-health.js"></script>
    <!-- seajs文本插件 can load .tpl .html .json 文本 -->
    <script type="text/javascript" src="/js/luffy/seajs-text/1.0.2/seajs-text.js"></script>
    <!--seajs样式插件-->
    <script type="text/javascript" src="/js/luffy/seajs-style/1.0.1/seajs-style.js"></script>
    <style type="text/css">
        #parent {
            border: 2px solid #444444;
            width: 990px;
            height: 600px;
        }

        #sub {
            width: 400px;
            height: 400px;
            border: 1px solid #444444;
        }
    </style>
</head>
<body>
我是父页面
<input type="text" value=""/> <input type="submit" value="发送给子页面" id="send1"/>
<iframe src="iframe.html" frameborder="0" width="600px" id="iframe">
</iframe>
</body>
<script type="text/javascript">
    seajs.use(['arale/position/1.0.1/position', 'arale/messenger/1.0.2/messenger', '$'], function (Position, Messenger, $) {
        var messenger1 = new Messenger({
            target: '#iframe',
            onmessage: function (msg) {
                console.log('来自子页面的信息' + msg);
            }
        });

        $("#send1").click(function () {
            messenger1.send('hello iframe');
        });

    });
</script>
</html>
