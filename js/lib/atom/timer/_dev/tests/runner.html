<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
    <title>Timer Mocha Runner</title>
    <link rel="stylesheet" href="http://style.aliunicorn.com/js/5v/lib/mocha/mocha.css?t=0_0" />
    <script src="http://style.aliunicorn.com/js/6v/atom/atom-sc.js?t=0_0"></script>
    <script src="http://style.aliunicorn.com/js/6v/atom/sea/2.0.0/plugin-text.js?t=0_0"></script>
    <script src="http://style.aliunicorn.com/js/5v/lib/mocha/mocha.js?t=0_0"></script>
    <script src="http://style.aliunicorn.com/js/5v/lib/mocha/mocha-helper.js?t=0_0"></script><script>
  (function() {
  	seajs.config({debug:true});

	// 解决别名问题
	var alias = {"count-down":"js/6v/lib/icbu/timer/count-down.js","tic":"js/6v/lib/icbu/timer/tic.js","timer":"js/6v/lib/icbu/timer/timer.js"};
	seajs.config({
		alias: alias
	});

	// widget 别名
	seajs.config({
		alias: {
			'widget': 'js/6v/lib/arale/widget/widget.js'
		}
	});

  })();
</script>
  </head>
  <body>
    <div id="mocha"></div>
    <script>
    	
    (function(){
    	// 计算路径
    	function getDevPath(){
    		var family = "icbu";
    		var name = "timer";
    		
    		var path = '../';
    		
    		if(family && name){
    			switch(family){
    				case 'arale':
    					path = 'js/6v/lib/arale/' + name + '/_dev/';
    					break;
    				case 'icbu':
    					path = 'js/6v/lib/icbu/' + name + '/_dev/';
    					break;
    				case 'gallery':
    					path = 'js/6v/lib/gallery/' + name + '/_dev/';
    					break;
    				case 'biz-common':
    					path = 'js/6v/biz/common/' + name + '/_dev/';
    					break;
    			}
    		}
    		
    		return path;
    	}
        var tests = [];

        var specs = [];
        var devPath = getDevPath();
        for (var i = 0; i < tests.length; i++) {
          specs[i] = devPath + 'tests/' + tests[i];
        }
        var srcs = {"js":["count-down.js","tic.js","timer.js"],"css":[],"alias":{"count-down":"count-down.js","tic":"tic.js","timer":"timer.js"}};
        var css = [];

        for (var i = 0; i < srcs.css.length; i++) {
          css[i] = devPath + 'src/' + srcs.css[i];
        }

        seajs.use(css);

        seajs.use(specs, function() {
          mocha.run();
        })
    })();
    </script><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1000130408'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "w.cnzz.com/q_stat.php%3Fid%3D1000130408' type='text/javascript'%3E%3C/script%3E"));</script>
  </body>
</html>