# Textarea-error-focus

---

<style>
    /* just for demo */
    #demo-textarea{ height:300px; width:300px; }
    button{ font-size:18px; padding:15px; display: inline; }
    #report-error{ display:none; margin-top:10px; padding:5px 10px; background: #FFC1B2; border:1px solid #FF696F; }
    #error-count, #error-index{ color:red; font-weight: bold; }
</style>

## DEMO

<textarea id="demo-textarea" autocomplete="off">Highlight　this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. 你能找到我吗 Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this 你看不到我。 textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight 我躲在这里。 this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. ＨｉｇｈＬｉｇｈｔ this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.我隐藏的很深 :) Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.我是另一个错误 Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. 你能找到我吗 Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this Ｗord in this 你看不到我。 textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight 我躲在这里。 this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word ｉn this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.我隐藏的很深 :) Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.我是另一个错误 Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. 你能找到我吗 Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this 你看不到我。 textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight 我躲在这里。 this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.我隐藏的很深 :) Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.我是另一个错误 Highlight this word in this textarea. Highlight this word in this textarea. Highlight this word in this textarea.
</textarea>
<button id="demo-validate-btn">校验错误</button><button id="demo-focus-next-error-btn">查找并聚焦到下一个错误</button>
<div id="report-error">
    找到 <span id="error-count">?</span> 个错误。目前定位在第 <span id="error-index">?</span> 个错误。
</div>

<hr />

##CSS
````css
/* custom style for selection */
.high-light-focus::selection { background:red; color:#ffffff; }
.high-light-focus::-moz-selection { background:red; color:#ffffff; } 
.high-light-focus::-webkit-selection { background:red; color:#ffffff; }
````

##JS
````js
seajs.use(['$','js/6v/lib/icbu/textarea-error-focus/textarea-error-focus'], function($,TextareaErrorFocus){
        
        // 替换全角空格为半角
        $('#demo-textarea').val( $('#demo-textarea').val().replace(/　/g,' ') );

        // 控件初始化
        var textareaErrorFocus = new TextareaErrorFocus({
            element : $('#demo-textarea'),
            errorRegx : /[^\u0000-\u00FF\u2103\u0424\u2030\u200B\u2013\u2022\u2026\u200E\u2264\u2265\u03C6\u2116\uFF1A\u2033\u2019\u2122\u0131\u20AC]+/g
        });

        $('#demo-validate-btn').click(function(){
            var res = textareaErrorFocus.validate();
            alert('总共找到'+res.errors.length+'个错误');
        });

        // find next error
        $('#demo-focus-next-error-btn').click(function(){
            textareaErrorFocus.focusError();
        });

        // custom events - validate
        textareaErrorFocus.on('validate', function(args){
            console.log(args);
        });

        // custom events - noError
        textareaErrorFocus.on('noError', function(){
            $('#report-error').fadeOut(800);
        });

        // custom events - findError
        textareaErrorFocus.on('focusError', function(args){
            console.log(args);
            $('#report-error').fadeIn(800);
            $('#error-count').html(args.errorCount);
            $('#error-index').html(args.errorIndex);
        });


      });
````

<script>
seajs.use(['$'], function($){
    setTimeout(function(){
        $(".code-toggle").click();
    },100);
});
</script>